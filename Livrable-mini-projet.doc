<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Générateur de citations — Livrable</title>
<style>
  body { font-family: Arial, sans-serif; font-size: 12pt; line-height: 1.35; margin: 24px; }
  h1 { font-size: 16pt; margin: 0 0 8px; }
  h2 { font-size: 13pt; margin: 14px 0 6px; }
  p, li { margin: 4px 0; }
  ul { padding-left: 18px; }
  code { font-family: Consolas, monospace; background: #f2f2f2; padding: 1px 3px; }
  a { color: #000; text-decoration: underline; }
</style>
</head>
<body>

<h1>Générateur de citations — Mini-projet CI/CD</h1>

<h2>Liens</h2>
<p>
  Dépôt GitHub : 
  <a href="https://github.com/sasneaks/projetgencitations" target="_blank">https://github.com/sasneaks/projetgencitations</a>
</p>
<p>
  Page Web (GitHub Pages) :
  <a href="https://sasneaks.github.io/projetgencitations/" target="_blank">https://sasneaks.github.io/projetgencitations/</a>
  <br>
  (Si l’URL ne fonctionne pas, activer Pages : GitHub &rarr; Settings &rarr; Pages &rarr; Source = GitHub Actions, puis refaire un push.)
</p>

<h2>Comment y accéder</h2>
<ul>
  <li>Code : ouvrir le lien GitHub ci-dessus.</li>
  <li>Site : ouvrir le lien GitHub Pages. Si 404, vérifier dans Settings &rarr; Pages que le déploiement est actif, ou regarder l’onglet Actions (job “deploy”).</li>
</ul>

<h2>Résumé rapide</h2>
<p>
Projet simple en JavaScript. Une fonction renvoie une citation aléatoire, un test unitaire avec Jest vérifie le minimum, et un workflow GitHub Actions lance les tests à chaque push. Si c’est OK, la page statique (dossier <code>public/</code>) est déployée automatiquement sur GitHub Pages.
</p>

<h2>Structure</h2>
<ul>
  <li><code>src/app.js</code> : fonction <code>citationAleatoire()</code></li>
  <li><code>tests/app.test.js</code> : test Jest (string non vide)</li>
  <li><code>public/index.html</code> et <code>public/app.js</code> : page web très simple</li>
  <li><code>.github/workflows/ci.yml</code> : CI (tests + déploiement Pages)</li>
</ul>

<h2>Comment lancer en local</h2>
<ul>
  <li>Installer : <code>npm install</code></li>
  <li>Tests : <code>npm test</code></li>
  <li>Voir la page : ouvrir <code>public/index.html</code> dans le navigateur</li>
  <li>Voir une citation en console : <code>npm run quote</code></li>
</ul>

<h2>CI/CD (très court)</h2>
<ul>
  <li>Déclenché sur push/PR vers <code>main</code></li>
  <li>Node 20, <code>npm install</code>, <code>npm test</code></li>
  <li>Si OK : déploiement de <code>public/</code> sur GitHub Pages</li>
</ul>

<h2>Petites difficultés</h2>
<ul>
  <li>Permissions Pages : besoin de <code>pages: write</code> et <code>id-token: write</code></li>
  <li><code>npm install</code> choisi (au lieu de <code>npm ci</code>) pour éviter le souci de lockfile</li>
</ul>

<h2>Idées d’amélioration</h2>
<ul>
  <li>Plus de tests (mock de <code>Math.random</code>, vérifier que la citation vient bien de la liste)</li>
  <li>ESLint/Prettier + job de lint</li>
  <li>Couverture Jest + cache npm dans la CI</li>
</ul>

</body>
</html>
